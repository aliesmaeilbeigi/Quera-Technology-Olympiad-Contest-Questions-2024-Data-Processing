# تحلیل بازیکنان NBA (2000–2009)

## معرفی

این پروژه عملکرد بازیکنان NBA را در طول ده فصل (۲۰۰۰–۲۰۰۹) تحلیل می‌کند. هدف، بررسی آمار فردی و تیمی، شناسایی بازیکنان برجسته و استخراج بینش از مجموعه‌داده فراهم‌شده است.

مجموعه‌داده شامل **۱,۸۳۰ سطر** و **۱۸ ستون** است؛ هر سطر نمایانگر عملکرد یک بازیکن در یک فصل می‌باشد.

---

## توضیح مجموعه‌داده

فایل `NBA2000-2009.csv` شامل ستون‌های زیر است:

|  ستون  | توضیح                             |
| :----: | :-------------------------------- |
| PLAYER | نام بازیکن                        |
|  TEAM  | اختصار تیم                        |
|  YEAR  | سال فصل                           |
|   GP   | بازی‌های انجام‌شده                |
|   MIN  | میانگین دقیقه بازی                |
|   PTS  | میانگین امتیاز                    |
|   FGM  | میانگین شوت دو امتیازی موفق       |
|   FGA  | میانگین شوت دو امتیازی امتحان‌شده |
|   3PM  | میانگین شوت سه امتیازی موفق       |
|   3PA  | میانگین شوت سه امتیازی امتحان‌شده |
|   FTM  | میانگین پرتاب آزاد موفق           |
|   FTA  | میانگین پرتاب آزاد امتحان‌شده     |
|  OREB  | میانگین ریباند هجومی              |
|  DREB  | میانگین ریباند دفاعی              |
|   AST  | میانگین پاس گل                    |
|   STL  | میانگین دزدی توپ (استیل)          |
|   BLK  | میانگین بلاک                      |
|   TOV  | میانگین خطاهای توپ (تورن‌اور)     |

مجموعه‌داده با استفاده از کتابخانه `pandas` در پایتون وارد می‌شود:

```python
import pandas as pd
df = pd.read_csv("../data/NBA2000-2009.csv")
df.head()
```

---

## بخش ۱: دابل-دابل‌ها

**هدف:** شناسایی بازیکنانی که در یک فصل حداقل در **۲ از ۵ آمار کلیدی** مقدار دابل-دابل (یعنی حداقل ۱۰) داشته‌اند.

**آمارهای کلیدی:** امتیاز (PTS)، ریباند (REB = OREB + DREB)، پاس گل (AST)، بلاک (BLK)، دزدی توپ (STL).

**خروجی:** یک dataframe به نام `double_double` که ستون‌های زیر را دارد:

* PLAYER
* YEAR
* PTS
* AST
* REB
* BLK
* STL

دیتافریم بر اساس `YEAR` و `PLAYER` صعودی مرتب شده است. مثال ردیف‌ها:

| PLAYER          | YEAR |  PTS | AST |  REB | BLK | STL |
| --------------- | :--: | :--: | :-: | :--: | :-: | :-: |
| Antonio Davis   | 2000 | 13.7 | 1.4 | 10.1 | 1.9 | 0.3 |
| Antonio McDyess | 2000 | 20.8 | 2.1 | 12.0 | 1.5 | 0.6 |

**کد:**

```python
# ایجاد مجموع ریباند و شمارش دسته‌های >=10
df['REB'] = df['DREB'] + df['OREB']
df['mb10'] = ((df["PTS"] >= 10).astype(int) +
              (df["REB"] >= 10).astype(int) +
              (df["AST"]>=10).astype(int) +
              (df["BLK"] >= 10).astype(int) +
              (df["STL"]>=10).astype(int))

# انتخاب بازیکنانی که حداقل در ۲ دسته مقدار >=10 دارند
double_double = (df[df['mb10'] >= 2][['PLAYER','YEAR','PTS','AST','REB','BLK','STL']]
                 .sort_values(['YEAR','PLAYER'])
                 .reset_index(drop=True))
```

---

## بخش ۲: ارزش بازیکن (Most Valuable Players)

**هدف:** شناسایی بازیکنان ارزشمند (MVPها) طی ده فصل.

**فرمول ارزش بازیکن:**

```
VALUE = (PTS + OREB + DREB + AST + STL + BLK) - (TOV + Missed FG + Missed FT)
```

که در آن:

* `Missed FG` = FGA − FGM
* `Missed FT` = FTA − FTM

مقدار کلی هر بازیکن، میانگین VALUE او در تمامی فصل‌هاست.

**خروجی:** دیتافریم `best_player` با ستون‌های زیر:

* PLAYER
* VALUE (با گرد کردن تا ۲ رقم اعشار)

مرتب‌شده بر اساس VALUE نزولی و سپس PLAYER صعودی. مثال:

| PLAYER        | VALUE |
| ------------- | ----- |
| Kevin Garnett | 29.74 |
| LeBron James  | 27.90 |

**کد:**

```python
df["Missed FG"] = df["FGA"] - df["FGM"]
df["Missed FT"] = df["FTA"] - df["FTM"]
df["VALUE"] = (df["PTS"] + df["OREB"] + df["DREB"] + df["AST"] + df["STL"] + df["BLK"]) - (df["TOV"] + df["Missed FG"] + df["Missed FT"])

best_player = (df.groupby('PLAYER')['VALUE']
               .mean()
               .reset_index()
               .round(2)
               .sort_values(['VALUE','PLAYER'], ascending=[False,True])
               .reset_index(drop=True))
```

---

## بخش ۳: تیم‌های با بیشترین امتیاز در هر سال

**هدف:** تعیین تیمی که در هر فصل بیشترین میانگین امتیاز را داشته است.

**تعریف:** امتیاز تیم = مجموع میانگین امتیازات همه بازیکنان آن تیم در آن فصل.

**خروجی:** دیتافریم `max_PTS_of_year` با ستون‌های:

* YEAR
* TEAM
* PTS (گردش تا ۲ رقم اعشار)

مثال:

| YEAR | TEAM | PTS   |
| ---- | ---- | ----- |
| 2000 | SAC  | 100.2 |
| 2001 | LAL  | 95.9  |

**کد:**

```python
team_pts = df.groupby(['YEAR','TEAM'])['PTS'].sum().reset_index()
max_PTS_of_year = team_pts.loc[team_pts.groupby('YEAR')['PTS'].idxmax()]
max_PTS_of_year['PTS'] = max_PTS_of_year['PTS'].round(2)
max_PTS_of_year = max_PTS_of_year.sort_values('YEAR').reset_index(drop=True)
```

---

## خلاصه

* شناسایی **بازیکنانی که در هر فصل در حداقل ۲ آمار کلیدی دابل-دابل داشته‌اند**.
* محاسبه **ارزش بازیکنان** برای تعیین MVPها در بازه ۲۰۰۰–۲۰۰۹.
* تعیین **تیم‌های با بیشترین امتیاز** در هر فصل.

این تحلیل بینش‌هایی دربارهٔ روندهای عملکرد بازیکنان، قوت‌های امتیازی تیم‌ها و بازیکنان برجسته در طول یک دهه ارائه می‌دهد.
